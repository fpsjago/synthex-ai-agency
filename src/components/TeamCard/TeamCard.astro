---
interface Props {
  name: string;
  role: string;
  bio: string;
  initial: string;
  color?: 'cyan' | 'green';
  index?: number;
  twitterUrl?: string;
  linkedinUrl?: string;
}

const { name, role, bio, initial, color = 'cyan', index = 0, twitterUrl, linkedinUrl } = Astro.props;
---

<div
  class={`team-card team-card--${color} js-reveal`}
  data-reveal="fade-up"
  data-delay={String(index * 0.1)}
>
  <div class="team-avatar">
    <span class="team-avatar-initial">{initial}</span>
    <div class="team-avatar-ring"></div>
  </div>

  <div class="team-info">
    <h3 class="team-name heading-md">{name}</h3>
    <p class="team-role label text-cyan">{role}</p>
    <p class="team-bio body-sm text-muted">{bio}</p>

    <div class="team-social">
      {twitterUrl && (
        <a href={twitterUrl} target="_blank" rel="noopener noreferrer" class="team-social-link" aria-label={`${name} on Twitter`}>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
          </svg>
        </a>
      )}
      {linkedinUrl && (
        <a href={linkedinUrl} target="_blank" rel="noopener noreferrer" class="team-social-link" aria-label={`${name} on LinkedIn`}>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
          </svg>
        </a>
      )}
    </div>
  </div>
</div>

<style>
  .team-card {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
    padding: var(--space-2xl);
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    transition: border-color var(--transition-base), transform var(--transition-base);
  }

  .team-card:hover {
    transform: translateY(-4px);
  }

  .team-card--cyan:hover {
    border-color: var(--color-cyan-border);
  }

  .team-card--green:hover {
    border-color: rgba(57, 255, 20, 0.3);
  }

  /* Avatar */
  .team-avatar {
    position: relative;
    width: 80px;
    height: 80px;
  }

  .team-avatar-initial {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--color-cyan), var(--color-green));
    font-family: var(--font-heading);
    font-size: 2rem;
    font-weight: 700;
    color: #0A0A0A;
  }

  .team-card--green .team-avatar-initial {
    background: linear-gradient(135deg, var(--color-green), var(--color-cyan));
  }

  .team-avatar-ring {
    position: absolute;
    inset: -4px;
    border-radius: 50%;
    border: 1px dashed var(--color-cyan-border);
    animation: ringRotate 10s linear infinite;
  }

  .team-card--green .team-avatar-ring {
    border-color: rgba(57, 255, 20, 0.3);
  }

  @keyframes ringRotate {
    to { transform: rotate(360deg); }
  }

  /* Info */
  .team-info {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
  }

  .team-name {
    color: var(--color-text-primary);
  }

  .team-role {
    font-size: 0.75rem;
  }

  .team-card--green .team-role {
    color: var(--color-green);
  }

  .team-bio {
    line-height: 1.6;
    margin-top: var(--space-xs);
  }

  /* Social */
  .team-social {
    display: flex;
    gap: var(--space-sm);
    margin-top: var(--space-md);
    padding-top: var(--space-md);
    border-top: 1px solid var(--color-border);
  }

  .team-social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2rem;
    height: 2rem;
    border-radius: var(--radius-sm);
    border: 1px solid var(--color-border);
    color: var(--color-text-secondary);
    transition: color var(--transition-fast), border-color var(--transition-fast), background-color var(--transition-fast);
  }

  .team-social-link:hover {
    color: var(--color-cyan);
    border-color: var(--color-cyan-border);
    background: var(--color-cyan-dim);
  }
</style>
